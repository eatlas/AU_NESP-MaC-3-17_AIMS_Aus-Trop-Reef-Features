# Primer - Australian Tropical Reef Features dataset

This primer gives an LLM enough context to write analysis code against the Australian Tropical Reef Features dataset without repeating long descriptions. It summarises what the dataset is, how it was built, what the key attributes mean, and the main caveats. It also highlights items that are intentionally omitted here so that users know when to consult the full documentation.

## What this dataset is

The dataset is a national scale compilation and standardisation of tropical reef features across Australia, combining four regional sources into one shapefile of 21,832 polygons. It maps coral reefs, rocky reefs and sedimentary banks across the Indian Ocean, Timor Sea, Gulf of Carpentaria, Torres Strait, Great Barrier Reef and Coral Sea. It aims to support national environmental accounting, marine habitat mapping, marine park planning, Traditional Owner sea country mapping and environmental impact assessment.

Coverage is all reefs shallower than about 30 m on the continental shelf and to about 60 m in oceanic waters. Features outside the Australian EEZ are included where relevant, and each feature is attributed with sovereignty to allow filtering to the Australian EEZ.

## Provenance and versioning

Version v0-1 was released on 5 Aug 2025. The national layer is created by standardising, correcting and merging:
GBRMPA GBR Features within the Complete GBR composite, Torres Strait Features, Coral Sea Features, and North and West Australian Features. Standardisation mapped all sources to a common schema, applied manual corrections to the GBR and Torres Strait portion, assigned sovereignty from the EEZ land union layer, derived bathymetric summary statistics and depth classes where missing, and cross-walked to the Natural Values Common Language and Seamap Australia classifications. The complete dataset can be regenerated by executing scripts 01 to 06 in the companion analysis repository.

## Input datasets
This dataset was produced by the compilation and adjustment of the following datasets:
1. GBRMPA GBR Features extracted from Lawrey and Stewart, 2016, and improved through 990 manual edits. This version of the GBR Features is originally from 2008.
2. Torres Strait Features (Lawrey and Stewart, 2016): Reef features for Torres Strait, reclassified to match RB_Type_L3 using a crosswalk and some manual overrides.
3. Coral Sea Features (Lawrey and Bycroft, 2025a): Minimial modifications were made, update to the classification name from 'Atoll' to 'Oceanic'. 
4. North and West Australian Features (Lawrey and Bycroft, 2025b): No modification made.
5. Bathymetry (Flukes, 2024; Geoscience Australia, 2024): These were used to assign 10th, 50th and 90th percentile depths to each polygon.

Flanders Marine Institute (2024). Union of the ESRI Country shapefile and the Exclusive Economic Zones (version 4). Available online at https://www.marineregions.org/. https://doi.org/10.14284/698

Flukes, E., (2024). Multi-resolution bathymetry composite surface for Australian waters (EEZ).  Institute for Marine and Antarctic Studies (IMAS). Data accessed from https://metadata.imas.utas.edu.au/geonetwork/srv/eng/catalog.search#/metadata/69e9ac91-babe-47ed-8c37-0ef08f29338a on 31 July 2025

Geoscience Australia. (2024). AusBathyTopo (Australia) 250m 2024 - A national-scale depth model (20240011C). https://doi.org/10.26186/150050

Lawrey, E. P., Stewart M. (2016) Complete Great Barrier Reef (GBR) Reef and Island Feature boundaries including Torres Strait (NESP TWQ 3.13, AIMS, TSRA, GBRMPA) [Dataset]. eAtlas. https://doi.org/10.26274/vhj5-gr60

Lawrey, E., & Bycroft, R., (2025a). Coral Sea Features - Dataset collection - Coral reefs, Cays, Oceanic reef atoll platforms, and Depth contours (AIMS) (Version 1-1) [Data set]. eAtlas. https://doi.org/10.26274/PGJP-8462

Lawrey, E., Bycroft, R., (2025b). North and West Australian Tropical Reef Features - Boundaries of coral reefs, rocky reefs and sand banks (NESP-MaC 3.17, AIMS, Aerial Architecture). [Data set]. eAtlas. https://doi.org/10.26274/xj4v-2739

## Spatial scale and expected accuracy

Features for the Coral Sea, Torres Strait and Northern and Western Australia were mapped at about 1:250,000 with a typical 90th percentile boundary error near 100 m. Features within the GBR Marine Park are less accurate due to the age of the source mapping, with typical 90th percentile boundary errors near 300 m and, in some cases, exceeding 1 km. Depth categories are indicative only. Where derived from DEMs, accuracy depends on DEM resolution and water clarity; assigning a single depth class to a large feature will not capture its internal depth variability.

## Conceptual model

Polygons represent the outer boundary of a reef feature at the scale of geomorphic units. A single coral reef structure may be split into an “active” reef and a sand dominated reef flat. For full geological footprints, dissolve relevant subtypes together. Use the Level 2 class (RB\_Type\_L2) to group all coral reef subtypes, and similarly for rocky reefs.

Depth category expresses the approximate depth of the shallowest portion of a feature. When inferred from DEMs, it is evaluated against the 90th percentile of the depth distribution within the polygon, which approximates the shallowest 10 percent by area.

Sovereignty fields allow convenient filtering to the Australian EEZ and record cross boundary shares for features intersecting EEZ limits. Sovereignty is supplied for research convenience and is not an official boundary statement.

## Reef boundary type classification scheme
Each of the reef features mapping in this dataset have been classified as part of the Reef Boundary Type classification scheme, which is recorded as RB_Type_L3, RB_Type_L2 and RB_Type_L1 attributes. This scheme is heirarchical with RB_Type_L3 providing the most detail (indicating sub types of coral reef and sub types of rocky reefs). This schema provides details about the following attributes `RB_Type_L3`, `Attachment`, `DepthCat` and `DepthCatSr` Full details of this classification can be found by reviewing the LLM Primer: https://raw.githubusercontent.com/eatlas/AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features/refs/heads/main/Reef-boundary-type-scheme-LLM-primer.md

## Coral Reef Bank
The [definition for this feature type](https://raw.githubusercontent.com/eatlas/AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features/refs/heads/main/Reef-boundary-type-scheme-LLM-primer.md)

## Core schema you can rely on
The attribute model is designed to be compact for manual digitisation and then expandable via cross-walks.

| Field                          | Type    | Meaning and common values                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------ | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `RB_Type_L3`                   | string  | Reef Boundary Type - Level 3. The primary class describing the feature’s geological origin and expected benthic community. Examples include Coral Reef, Coral Reef Flat, Coral Reef Bank, Rocky Reef, Low Relief Rocky Reef, Limestone Reef, Sand Bank, Non-reef Bank, High Intertidal Coral Reef, Oceanic Platform, Oceanic Rim Coral Reef, Oceanic Lagoon Patch Coral Reef, Oceanic vegetated sediments, Seagrass on Sediment, Man Made, Unknown. |
| `RB_Type_L2`                   | string  | Level 2 grouping derived from L3. Groups all coral reef subtypes into Coral Reef, all rocky subtypes into Rocky Reef, and so on.                                                                                                                                                                                                                                                                                                                    |
| `RB_Type_L1`                   | string  | Level 1 grouping. Distinguishes Reef vs Sediment vs Land vs Other.                                                                                                                                                                                                                                                                                                                                                                                  |
| `Attachment`                   | string  | Relationship to landforms. Values: Fringing, Isolated, Oceanic, Land. Oceanic marks features seaward of the shelf break.                                                                                                                                                                                                                                                                                                                            |
| `DepthCat`                     | string  | Depth category of the shallowest part. Values: Land, Surface, Intertidal, Very Shallow, Shallow, Deep. For derived cases this is determined using the DEM 90th percentile depth.                                                                                                                                                                                                                                                                    |
| `DepthCatSr`                   | string  | Source of the depth category decision, for example Sentinel 2 Green, Sentinel 2 Red, DEA Intertidal, MultiRefBathyEEZ\_2024, AusBathyTopo\_2024, or rule based overrides.                                                                                                                                                                                                                                                                           |
| `FeatConf`                     | string  | Confidence that a mapped feature is real. Values: Very Low, Low, Medium, High.                                                                                                                                                                                                                                                                                                                                                                      |
| `TypeConf`                     | string  | Confidence that the L3 class is correct. Values: Very Low, Low, Medium, High.                                                                                                                                                                                                                                                                                                                                                                       |
| `EdgeSrc`                      | string  | Primary imagery or source used to digitise boundaries, for example S2 All Tide, Landsat.                                                                                                                                                                                                                                                                                                                                                            |
| `EdgeAcc_m`                    | integer | Estimated 90th percentile boundary error in metres.                                                                                                                                                                                                                                                                                                                                                                                                 |
| `ReefID`                       | string  | Persistent identifier where assigned. Present for TS-GBR and Coral Sea features, not yet assigned for all North and West features.                                                                                                                                                                                                                                                                                                                  |
| `Dataset`                      | string  | Source dataset label, for example TS Features, GBR Features, CS Features, NW-Aus-Features\_v0-4, Aus-Trop-Reef-Features\_v0-1.                                                                                                                                                                                                                                                                                                                      |
| `OrigType`                     | string  | Original source classification.                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `Sovereign1`, `Sovereign2`     | string  | Primary and secondary sovereignty.                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `Sov1_Perc`, `Sov2_Perc`       | integer | Percentage area in each sovereignty.                                                                                                                                                                                                                                                                                                                                                                                                                |
| `Union`                        | string  | Country or treaty designation for cross boundary features.                                                                                                                                                                                                                                                                                                                                                                                          |
| `DEM10p`, `DEM50p`, `DEM90p`   | float   | 10th, 50th and 90th percentile depths inside the polygon. Units match DEM vertical units and are negative below MSL.                                                                                                                                                                                                                                                                                                                                |
| `DEMSr`                        | string  | DEM used for statistics.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `NvclEco`, `NvclEcoCom`        | string  | Natural Values Common Language classes derived by cross-walk, for example Shallow coral reefs, Mesophotic coral reefs, Oceanic coral reefs.                                                                                                                                                                                                                                                                                                         |
| `AS_*`, `BC_*`, `SO_*`, `SC_*` | string  | Seamap Australia classes derived by cross-walk. `AS_SubSys` may hold Nearshore;Offshore where ambiguous.                                                                                                                                                                                                                                                                                                                                            |
| `Area_km2`                     | decimal | Feature area in km², computed in EPSG 3112 and rounded to 1e-6 km².                                                                                                                                                                                                                                                                                                                                                                                 |

Notes for interpretation:

* For full coral reef footprints combine Coral Reef, Coral Reef Flat and, where relevant, Coral Reef Bank for shelf banks, or appropriate oceanic subtypes for atolls.
* High Intertidal Coral Reef is specific to macrotidal settings in the Kimberley and marks reefs that have grown to near MSL with protective algal ridges.
* Oceanic Platform is the limestone base of an atoll at roughly 100 m depth and is mapped as sediment in the NVCL cross-walk. Lagoon vegetation is not implied absent.

## Data storage and location

Format is a shapefile named `AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features.shp`. The dataset is archived under the eAtlas enduring data repository at `data/custodian/2023-2026-NESP-MaC-3/3.17_Northern-Aus-reef-mapping/data/AU_NESP-MaC-3-17_AIMS_NW-Aus-Features`. The file size is about 51 MB for v0-1. The metadata record for this dataset is available from: 
Lawrey, E., Bycroft, R. (2025). Australian Tropical Reef Features - Boundaries of coral and rocky reefs (NESP MaC 3.17, AIMS) (Version v0-1) [Data set]. eAtlas. https://doi.org/10.26274/4RRW-RR88

## Downloading the dataset programmatically
The dataset can be directly download from `https://nextcloud.eatlas.org.au/s/dQeoxzja6tCYSko/download?path=%2Fv0-1%2Fout`. This path corresponds to 51MB zip file containing a folder called `out` which contains AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features_v0-1.shp. 

This can be script in Python using the DataDownloader library (https://github.com/open-AIMS/data-downloader). A primer for this library can be found at https://raw.githubusercontent.com/open-AIMS/data-downloader/refs/heads/main/LLM_PRIMER.md.

```python
# pip install "git+https://github.com/open-AIMS/data-downloader@v1.0.0"
from data_downloader import DataDownloader
import os

# Create download directories if they don't exist
download_path = 'data/in-3p'
os.makedirs(download_path, exist_ok=True)

# Initialize the DataDownloader
downloader = DataDownloader(download_path=download_path)

# --------------------------------------------------------
# Lawrey, E., & Bycroft, R. (2025). Australian Tropical Reef Features - Boundaries of coral and 
# rocky reefs (NESP MaC 3.17, AIMS) (Version v0-1) [Data set]. eAtlas. https://doi.org/10.26274/4RRW-RR88
download_url = 'https://nextcloud.eatlas.org.au/s/dQeoxzja6tCYSko/download?path=%2Fv0-1%2Fout'
# The downloaded zip file contains /out/AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features_v0-1.*
downloader.download_and_unzip(download_url, 'Aus-Trop-Reef-Features_v0-1', flatten_directory=True)
```

## Bathymetry and depth classes

Depth classes come from source datasets where available. Where missing they are derived by sampling DEMs within each polygon and using the 90th percentile depth as a proxy for the shallowest 10 percent by area. For reefs inside the Australian EEZ the Multi-resolution bathymetry composite was used. For reefs outside the EEZ the AusBathyTopo 250 m model was used. For very small polygons a centroid sample may be used. DEM resolution limits the accuracy of depth thresholds, especially for small features and turbid waters.

## Reproducibility in brief

The build is fully scripted. Script 01 downloads inputs. Scripts 02a to 02c standardise and patch regional sources. Script 03 merges the standardised layers. Script 04 assigns sovereignty. Script 05 derives DEM statistics and fills missing depth classes. Script 06 applies the NVCL and Seamap cross-walks, recomputes area in EPSG 3112 and compacts text fields. Manual edits to the GBR composite are applied via dedicated override and extra features shapefiles, preserving full auditability.

## Known limitations in v0-1 that affect analysis

GBR boundaries remain coarse due to the 2008 vintage source. Many reefs would benefit from redigitising. Depth classes for the North and West are incomplete and should be considered draft quality for about 30 percent of features; target accuracy was not assessed. Sediment features are under represented in the North and West, particularly sand banks and any seagrass based classes; seagrass mapping is incomplete and should not be used. In the Pilbara there may be misclassification between modern coral reefs and limestone reefs. Kimberley fringing reefs include dozens of cases where Very Shallow should replace Shallow. In the GBR and Torres Strait, cays were excluded in this version, unlike the Coral Sea. Oceanic Platform and Oceanic vegetated sediments classes do not imply absence of vegetation in lagoons; a separate Coral Sea Oceanic Vegetation dataset covers lagoon vegetation.

## Typical analysis patterns and code assumptions

Use the Level 2 or Level 1 classes when you need broad grouping. Use Attachment to distinguish fringing vs isolated vs oceanic. Use sovereignty to filter to the Australian EEZ. For geomorphic reef footprints, dissolve L3 subtypes that form a single structure. For shallow habitat counts, filter DepthCat to Intertidal, Very Shallow and Shallow. When combining areas, rely on `Area_km2` rather than recomputing in a geographic CRS.

```python
# GeoPandas quickstart patterns
import geopandas as gpd

gdf = gpd.read_file("AU_NESP-MaC-3-17_AIMS_NW-Aus-Features.shp")

# Filter to Australian EEZ only
aus = gdf[gdf["Sovereign1"].eq("Australia") & gdf["Sov1_Perc"].ge(50)]

# Coral reefs only (all subtypes)
coral = aus[aus["RB_Type_L2"].eq("Coral Reef")]

# Shallow to intertidal coral reefs
shallow_classes = {"Intertidal", "Very Shallow", "Shallow"}
shallow_coral = coral[coral["DepthCat"].isin(shallow_classes)]

# Oceanic reefs
oceanic = coral[coral["Attachment"].eq("Oceanic")]

# Area summaries using authoritative areas
summary = (coral.groupby(["RB_Type_L3"])["Area_km2"]
                .sum()
                .reset_index()
                .sort_values("Area_km2", ascending=False))
```

When reconciling shelf banks, consider merging Coral Reef Bank polygons with adjacent Coral Reef polygons to represent the overall structure. For analyses sensitive to atoll lagoon biota, include Oceanic vegetated sediments where appropriate or integrate the dedicated lagoon vegetation layer for the Coral Sea.

## Fields and values not fully specified in this primer

Only the core fields and the most common values are described here. The full dataset includes a complete data dictionary for all Seamap Australia levels, NVCL complexes, Queensland Intertidal and Subtidal attributes, full value enumerations for RB\_Type\_L3 including oceanic subclasses, exact cross-walk rules, full definitions and edge cases for Attachment logic, and detailed bathymetry source notes. This primer does not reproduce the complete list of RB\_Type\_L3 definitions, the detailed override logic applied to the GBR composite, the precise DEM sampling settings, or the complete set of known errata by region. For those details refer to the repository README, the metadata record and the Reef Boundary Type v0-4 classification document.

## Minimal FAQs for agents

What does DepthCat represent and how is it derived? It is the depth class of the shallowest part of a feature. When derived, it is based on the DEM 90th percentile depth within the polygon.
How do I filter to Australia only? Use Sovereign1 equals Australia and Sov1\_Perc above a threshold, for example 50.
How do I get complete coral reef boundaries? Dissolve features by the RB_Type_L2 classifications. This will merge all coral reef Coral Reef, Coral Reef Flat and, where applicable, Coral Reef Bank that are connected and represent the same structure.
Are areas precomputed? Yes, `Area_km2` is computed in EPSG 3112 and should be used for totals.
Are GBR boundaries accurate? They are serviceable for national scale summaries but locally coarse. Many boundaries remain hundreds of metres off, with some exceeding 1 km.

## File and build facts

Shapefile name is `AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features.shp`. Feature count is 21,832 for v0-1. Area is computed and stored in km² using EPSG 3112. Scripts 01 to 06 in the [companion repository](https://github.com/eatlas/AU_NESP-MaC-3-17_AIMS_Aus-Trop-Reef-Features) rebuild the dataset end to end, including downloading third party inputs, applying manual corrections, merging, sovereignty assignment, bathymetry sampling and cross-walks.

## How should this dataset be cited

Use of this dataset should be cited using the following:
Lawrey, E., Bycroft, R. (2025). Australian Tropical Reef Features - Boundaries of coral and rocky reefs (NESP MaC 3.17, AIMS) (Version v0-1) [Data set]. eAtlas. https://doi.org/10.26274/4RRW-RR88

This dataset is made available under a creative commons attribution 4.0 international license.

---

If an analysis requires definitions, full enumerations, region specific caveats, or the exact logic used in overrides and cross-walks, the agent should direct the user to the full repository README, the dataset metadata record and the Reef Boundary Type classification document.


